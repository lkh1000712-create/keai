<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloudflare R2 Public Access 설정 가이드</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .step-card { transition: all 0.2s; }
        .step-card:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
        .checked { background: #dcfce7 !important; border-color: #16a34a !important; }
        .menu-path { background: linear-gradient(90deg, #f97316 0%, #fb923c 100%); }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="max-w-3xl mx-auto py-8 px-4">
        <!-- 헤더 -->
        <div class="text-center mb-8">
            <div class="inline-flex items-center gap-2 bg-orange-100 text-orange-700 px-4 py-2 rounded-full text-sm font-medium mb-4">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                2025년 12월 기준
            </div>
            <h1 class="text-3xl font-bold text-gray-900 mb-2">Cloudflare R2 Public Access 설정</h1>
            <p class="text-gray-600">KEAI 이미지 버킷을 공개 접근 가능하게 설정합니다</p>
        </div>

        <!-- 진행 체크리스트 -->
        <div class="bg-white rounded-xl border border-gray-200 p-6 mb-6">
            <h2 class="font-semibold text-gray-900 mb-4 flex items-center gap-2">
                <span class="w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm">✓</span>
                진행 체크리스트
            </h2>
            <div class="space-y-3">
                <label class="flex items-center gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 step-check" onclick="toggleCheck(this)">
                    <input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-blue-600">
                    <span>Cloudflare 대시보드 로그인</span>
                </label>
                <label class="flex items-center gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 step-check" onclick="toggleCheck(this)">
                    <input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-blue-600">
                    <span>R2 → keai 버킷 선택</span>
                </label>
                <label class="flex items-center gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 step-check" onclick="toggleCheck(this)">
                    <input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-blue-600">
                    <span>Settings 탭 이동</span>
                </label>
                <label class="flex items-center gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 step-check" onclick="toggleCheck(this)">
                    <input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-blue-600">
                    <span>Public Development URL 활성화</span>
                </label>
            </div>
        </div>

        <!-- Step 1 -->
        <div class="step-card bg-white rounded-xl border border-gray-200 p-6 mb-4">
            <div class="flex items-start gap-4">
                <div class="w-10 h-10 bg-orange-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0">1</div>
                <div class="flex-1">
                    <h3 class="font-semibold text-gray-900 text-lg mb-3">Cloudflare 대시보드 접속</h3>
                    <a href="https://dash.cloudflare.com" target="_blank"
                       class="inline-flex items-center gap-2 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium transition">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
                        </svg>
                        dash.cloudflare.com 열기
                    </a>
                </div>
            </div>
        </div>

        <!-- Step 2 -->
        <div class="step-card bg-white rounded-xl border border-gray-200 p-6 mb-4">
            <div class="flex items-start gap-4">
                <div class="w-10 h-10 bg-orange-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0">2</div>
                <div class="flex-1">
                    <h3 class="font-semibold text-gray-900 text-lg mb-3">R2 버킷으로 이동</h3>

                    <!-- 메뉴 경로 -->
                    <div class="bg-gray-900 rounded-lg p-4 mb-4">
                        <p class="text-gray-400 text-xs mb-2">메뉴 경로</p>
                        <div class="flex items-center gap-2 text-white font-mono text-sm flex-wrap">
                            <span class="bg-gray-700 px-3 py-1 rounded">좌측 사이드바</span>
                            <span class="text-gray-500">→</span>
                            <span class="menu-path px-3 py-1 rounded font-semibold">R2 Object Storage</span>
                            <span class="text-gray-500">→</span>
                            <span class="bg-blue-600 px-3 py-1 rounded">keai</span>
                        </div>
                    </div>

                    <div class="bg-amber-50 border border-amber-200 rounded-lg p-3 text-sm text-amber-800">
                        <strong>Tip:</strong> R2가 안 보이면 사이드바 하단 "More Products" 클릭
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 3 -->
        <div class="step-card bg-white rounded-xl border border-gray-200 p-6 mb-4">
            <div class="flex items-start gap-4">
                <div class="w-10 h-10 bg-orange-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0">3</div>
                <div class="flex-1">
                    <h3 class="font-semibold text-gray-900 text-lg mb-3">Settings 탭 선택</h3>

                    <div class="bg-gray-100 rounded-lg p-4 mb-4">
                        <div class="flex gap-1 border-b border-gray-300 pb-2">
                            <span class="px-4 py-2 text-gray-500 text-sm">Objects</span>
                            <span class="px-4 py-2 bg-white border-b-2 border-orange-500 text-orange-600 font-medium text-sm rounded-t">Settings</span>
                            <span class="px-4 py-2 text-gray-500 text-sm">Metrics</span>
                        </div>
                        <p class="text-gray-600 text-sm mt-3">버킷 상단의 <strong>Settings</strong> 탭 클릭</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 4 -->
        <div class="step-card bg-white rounded-xl border border-gray-200 p-6 mb-4">
            <div class="flex items-start gap-4">
                <div class="w-10 h-10 bg-orange-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0">4</div>
                <div class="flex-1">
                    <h3 class="font-semibold text-gray-900 text-lg mb-3">Public Development URL 활성화</h3>

                    <!-- 2025 UI 시뮬레이션 -->
                    <div class="border border-gray-300 rounded-lg overflow-hidden mb-4">
                        <div class="bg-gray-100 px-4 py-2 border-b border-gray-300">
                            <span class="font-medium text-gray-700">Public Development URL</span>
                            <span class="ml-2 text-xs bg-yellow-100 text-yellow-700 px-2 py-0.5 rounded">Development only</span>
                        </div>
                        <div class="p-4 bg-white">
                            <p class="text-gray-600 text-sm mb-3">Enable public access via r2.dev subdomain for development purposes.</p>
                            <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded font-medium text-sm">
                                Enable
                            </button>
                        </div>
                    </div>

                    <div class="space-y-2 text-sm">
                        <p class="flex items-center gap-2">
                            <span class="w-5 h-5 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-xs">1</span>
                            <strong>Enable</strong> 버튼 클릭
                        </p>
                        <p class="flex items-center gap-2">
                            <span class="w-5 h-5 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-xs">2</span>
                            확인창에서 <code class="bg-gray-100 px-2 py-0.5 rounded">allow</code> 입력
                        </p>
                        <p class="flex items-center gap-2">
                            <span class="w-5 h-5 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-xs">3</span>
                            <strong>Allow</strong> 버튼 클릭
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 5: 확인 -->
        <div class="step-card bg-white rounded-xl border border-gray-200 p-6 mb-4">
            <div class="flex items-start gap-4">
                <div class="w-10 h-10 bg-green-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0">✓</div>
                <div class="flex-1">
                    <h3 class="font-semibold text-gray-900 text-lg mb-3">설정 완료 확인</h3>

                    <div class="border border-green-300 bg-green-50 rounded-lg p-4 mb-4">
                        <div class="flex items-center gap-2 mb-2">
                            <span class="w-3 h-3 bg-green-500 rounded-full"></span>
                            <span class="font-medium text-green-800">Public Access: Enabled</span>
                        </div>
                        <p class="text-sm text-green-700">
                            Public URL: <code class="bg-green-100 px-2 py-0.5 rounded">https://pub-75123333ef4e1c6368873dd55fca00ab.r2.dev</code>
                        </p>
                    </div>

                    <p class="text-gray-600 text-sm">이제 업로드된 이미지가 공개 URL로 접근 가능합니다.</p>
                </div>
            </div>
        </div>

        <!-- 테스트 URL -->
        <div class="bg-blue-50 border border-blue-200 rounded-xl p-6 mb-6">
            <h3 class="font-semibold text-blue-900 mb-3">설정 후 테스트</h3>
            <p class="text-blue-800 text-sm mb-3">아래 URL을 클릭하여 이미지가 보이면 설정 완료:</p>
            <a href="https://pub-75123333ef4e1c6368873dd55fca00ab.r2.dev/images/logo/1765619684486.png"
               target="_blank"
               class="inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium text-sm transition">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                </svg>
                테스트 이미지 확인
            </a>
        </div>

        <!-- 주의사항 -->
        <div class="bg-amber-50 border border-amber-200 rounded-xl p-6">
            <h3 class="font-semibold text-amber-900 mb-3 flex items-center gap-2">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                </svg>
                주의사항
            </h3>
            <ul class="text-amber-800 text-sm space-y-2">
                <li>• <strong>Public Development URL</strong>은 개발/테스트용 (Rate Limit 있음)</li>
                <li>• 프로덕션에서는 <strong>Custom Domain</strong> 사용 권장</li>
                <li>• WAF, 캐싱 기능은 Custom Domain에서만 지원</li>
            </ul>
        </div>

        <!-- 푸터 -->
        <div class="text-center mt-8 text-gray-500 text-sm">
            <p>KEAI 프로젝트 · 2025년 12월</p>
        </div>
    </div>

    <script>
        function toggleCheck(el) {
            const checkbox = el.querySelector('input[type="checkbox"]');
            checkbox.checked = !checkbox.checked;
            if (checkbox.checked) {
                el.classList.add('checked');
            } else {
                el.classList.remove('checked');
            }
        }
    </script>
</body>
</html>
