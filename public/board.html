<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KLT2444N9N"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-KLT2444N9N');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO 기본 -->
    <title>공지사항 & 뉴스 | 한국기업심사원 KEAI</title>
    <meta name="description" content="한국기업심사원 KEAI의 최신 공지사항, 뉴스, 정책자금 정보를 확인하세요.">
    <meta name="keywords" content="정부정책자금, 정부지원자금, 공지사항, 뉴스, 한국기업심사원, KEAI">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://k-eai.kr/board">
    <link rel="icon" type="image/png" href="/favicon.png">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="한국기업심사원 KEAI">
    <meta property="og:title" content="공지사항 & 뉴스 | 한국기업심사원 KEAI">
    <meta property="og:description" content="한국기업심사원 KEAI의 최신 공지사항, 뉴스, 정책자금 정보를 확인하세요.">
    <meta property="og:image" content="https://k-eai.kr/og/og-home.png">
    <meta property="og:url" content="https://k-eai.kr/board">
    <meta property="og:locale" content="ko_KR">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="공지사항 & 뉴스 | 한국기업심사원 KEAI">
    <meta name="twitter:description" content="한국기업심사원 KEAI의 최신 공지사항, 뉴스, 정책자금 정보를 확인하세요.">
    <meta name="twitter:image" content="https://k-eai.kr/og/og-home.png">

    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="css/styles.css">

    <!-- Board Page Styles -->
    <style>
    /* ================================================
       BOARD PAGE STYLES
       ================================================ */
    .keai-board-page {
        background: linear-gradient(180deg, #F8FAFC 0%, #EFF6FF 100%);
        min-height: calc(100vh - 200px);
        padding: 40px 0 80px;
    }

    .keai-board-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
    }

    /* Breadcrumb */
    .keai-board-breadcrumb {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 30px;
        font-size: 14px;
        color: #6B7280;
    }

    .keai-board-breadcrumb a {
        color: #6B7280;
        text-decoration: none;
        transition: color 0.3s ease;
    }

    .keai-board-breadcrumb a:hover {
        color: #0F4C81;
    }

    .keai-board-breadcrumb svg {
        width: 16px;
        height: 16px;
        fill: #9CA3AF;
    }

    .keai-board-breadcrumb span.current {
        color: #1F2937;
        font-weight: 500;
    }

    /* Page Header */
    .keai-board-header {
        text-align: center;
        margin-bottom: 50px;
    }

    .keai-board-title {
        font-size: 38px;
        font-weight: 700;
        color: #1F2937;
        margin-bottom: 15px;
        position: relative;
        display: inline-block;
    }

    .keai-board-title::after {
        content: '';
        position: absolute;
        bottom: -8px;
        left: 50%;
        transform: translateX(-50%);
        width: 80px;
        height: 3px;
        background: linear-gradient(90deg, transparent, #0F4C81, #1A73E8, transparent);
    }

    .keai-board-highlight {
        color: #0F4C81;
        background: linear-gradient(135deg, #0F4C81 0%, #1A73E8 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .keai-board-subtitle {
        font-size: 18px;
        color: #6B7280;
        font-weight: 500;
    }

    /* Category Tabs */
    .keai-board-tabs {
        display: flex;
        justify-content: center;
        gap: 12px;
        margin-bottom: 40px;
        flex-wrap: wrap;
    }

    .keai-board-tab {
        padding: 10px 24px;
        background: #FFFFFF;
        border: 2px solid #E5E7EB;
        border-radius: 30px;
        font-size: 15px;
        font-weight: 600;
        color: #6B7280;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .keai-board-tab:hover {
        border-color: #0F4C81;
        color: #0F4C81;
    }

    .keai-board-tab.active {
        background: linear-gradient(135deg, #0F4C81 0%, #1A73E8 100%);
        border-color: transparent;
        color: #FFFFFF;
    }

    /* Grid Layout */
    .keai-board-grid {
        display: grid;
        grid-template-columns: repeat(1, 1fr);
        gap: 24px;
        margin-bottom: 40px;
    }

    @media (min-width: 640px) {
        .keai-board-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    @media (min-width: 1024px) {
        .keai-board-grid {
            grid-template-columns: repeat(3, 1fr);
        }
    }

    /* Card */
    .keai-board-card {
        background: #FFFFFF;
        border: 1px solid #E5E7EB;
        border-radius: 16px;
        overflow: hidden;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }

    .keai-board-card:hover {
        transform: translateY(-5px);
        border-color: #0F4C81;
        box-shadow: 0 10px 30px rgba(15, 76, 129, 0.15);
    }

    .keai-board-card-thumbnail {
        width: 100%;
        height: 180px;
        background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%);
        position: relative;
        overflow: hidden;
    }

    .keai-board-card-thumbnail img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .keai-board-card-placeholder {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%);
    }

    .keai-board-card-placeholder svg {
        width: 48px;
        height: 48px;
        fill: #90CAF9;
    }

    .keai-board-card-content {
        padding: 20px;
    }

    .keai-board-card-category {
        display: inline-block;
        padding: 4px 12px;
        background: linear-gradient(135deg, #0F4C81 0%, #1A73E8 100%);
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
        color: #FFFFFF;
        margin-bottom: 12px;
    }

    .keai-board-card-category.notice {
        background: linear-gradient(135deg, #0F4C81 0%, #1A73E8 100%);
    }

    .keai-board-card-category.news {
        background: linear-gradient(135deg, #059669 0%, #10B981 100%);
    }

    .keai-board-card-category.info {
        background: linear-gradient(135deg, #D97706 0%, #F59E0B 100%);
    }

    .keai-board-card-category.event {
        background: linear-gradient(135deg, #7C3AED 0%, #A78BFA 100%);
    }

    .keai-board-card-title {
        font-size: 17px;
        font-weight: 700;
        color: #1F2937;
        margin-bottom: 12px;
        line-height: 1.4;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .keai-board-card-excerpt {
        font-size: 14px;
        color: #6B7280;
        line-height: 1.6;
        margin-bottom: 16px;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .keai-board-card-meta {
        display: flex;
        align-items: center;
        justify-content: space-between;
        font-size: 13px;
        color: #9CA3AF;
    }

    .keai-board-card-date,
    .keai-board-card-views {
        display: flex;
        align-items: center;
        gap: 5px;
    }

    .keai-board-card-date svg,
    .keai-board-card-views svg {
        width: 14px;
        height: 14px;
        fill: currentColor;
    }

    /* Loading & Empty States */
    .keai-board-loading {
        text-align: center;
        padding: 80px 20px;
        color: #6B7280;
    }

    .keai-board-spinner {
        width: 50px;
        height: 50px;
        border: 4px solid #E5E7EB;
        border-top-color: #0F4C81;
        border-radius: 50%;
        animation: keaiBoardSpin 1s linear infinite;
        margin: 0 auto 20px;
    }

    @keyframes keaiBoardSpin {
        to { transform: rotate(360deg); }
    }

    .keai-board-empty {
        text-align: center;
        padding: 80px 20px;
        color: #6B7280;
    }

    .keai-board-empty svg {
        width: 80px;
        height: 80px;
        fill: #D1D5DB;
        margin-bottom: 20px;
    }

    .keai-board-empty h3 {
        font-size: 20px;
        font-weight: 600;
        color: #1F2937;
        margin-bottom: 10px;
    }

    /* Pagination */
    .keai-board-pagination {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 8px;
        margin-top: 40px;
    }

    .keai-board-page-btn {
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #FFFFFF;
        border: 1px solid #E5E7EB;
        border-radius: 10px;
        font-size: 14px;
        font-weight: 600;
        color: #6B7280;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .keai-board-page-btn:hover {
        border-color: #0F4C81;
        color: #0F4C81;
    }

    .keai-board-page-btn.active {
        background: linear-gradient(135deg, #0F4C81 0%, #1A73E8 100%);
        border-color: transparent;
        color: #FFFFFF;
    }

    .keai-board-page-btn.disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }

    .keai-board-page-btn svg {
        width: 18px;
        height: 18px;
        fill: currentColor;
    }

    /* More Button */
    .keai-board-more {
        text-align: center;
        margin-top: 40px;
    }

    .keai-board-more-btn {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 14px 30px;
        background: transparent;
        border: 2px solid #0F4C81;
        border-radius: 30px;
        color: #0F4C81;
        font-size: 15px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .keai-board-more-btn:hover {
        background: #0F4C81;
        color: #FFFFFF;
        transform: translateY(-2px);
    }

    .keai-board-more-btn svg {
        width: 18px;
        height: 18px;
        fill: currentColor;
    }

    /* CTA Section */
    .keai-board-cta {
        background: linear-gradient(135deg, #0F4C81 0%, #1A73E8 100%);
        border-radius: 20px;
        padding: 40px;
        text-align: center;
        margin-top: 60px;
    }

    .keai-board-cta h3 {
        font-size: 24px;
        font-weight: 700;
        color: #FFFFFF;
        margin-bottom: 12px;
    }

    .keai-board-cta p {
        font-size: 16px;
        color: rgba(255, 255, 255, 0.85);
        margin-bottom: 24px;
    }

    .keai-board-cta-btn {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 14px 30px;
        background: #FFFFFF;
        border-radius: 30px;
        color: #0F4C81;
        font-size: 15px;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.3s ease;
    }

    .keai-board-cta-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    .keai-board-cta-btn svg {
        width: 18px;
        height: 18px;
        fill: currentColor;
    }

    /* Responsive */
    @media (min-width: 768px) {
        .keai-board-page {
            padding: 60px 0 100px;
        }

        .keai-board-title {
            font-size: 42px;
        }

        .keai-board-card-thumbnail {
            height: 200px;
        }
    }

    @media (min-width: 1024px) {
        .keai-board-page {
            padding: 80px 0 120px;
        }

        .keai-board-title {
            font-size: 48px;
        }

        .keai-board-card-thumbnail {
            height: 220px;
        }
    }

    @media (max-width: 767px) {
        .keai-board-page {
            padding: 30px 0 60px;
        }

        .keai-board-breadcrumb {
            margin-bottom: 20px;
            font-size: 13px;
        }

        .keai-board-header {
            margin-bottom: 30px;
        }

        .keai-board-title {
            font-size: 28px;
        }

        .keai-board-subtitle {
            font-size: 15px;
        }

        .keai-board-tabs {
            gap: 8px;
            margin-bottom: 25px;
        }

        .keai-board-tab {
            padding: 8px 16px;
            font-size: 13px;
        }

        .keai-board-card-thumbnail {
            height: 160px;
        }

        .keai-board-card-content {
            padding: 16px;
        }

        .keai-board-card-title {
            font-size: 15px;
        }

        .keai-board-cta {
            padding: 30px 20px;
            margin-top: 40px;
        }

        .keai-board-cta h3 {
            font-size: 20px;
        }

        .keai-board-cta p {
            font-size: 14px;
        }
    }
    </style>
</head>
<body>

<!-- ================================================
     HEADER
     ================================================ -->
<header class="keai-header">
    <div class="keai-header-container">
        <div class="keai-header-main">
            <a href="/" class="keai-logo">
                <img src="logo.png" alt="KEAI 한국기업심사원" class="keai-logo-image" data-image-id="logo">
            </a>

            <nav class="keai-nav">
                <ul class="keai-nav-list">
                    <li class="keai-nav-item"><a href="/">홈</a></li>
                    <li class="keai-nav-item"><a href="/company">회사소개</a></li>
                    <li class="keai-nav-item"><a href="/process">진행과정</a></li>
                    <li class="keai-nav-item"><a href="/fund">자금상담</a></li>
                    <li class="keai-nav-item"><a href="/pro">전문서비스</a></li>
                    <li class="keai-nav-item"><a href="/mkt">온라인마케팅</a></li>
                    <li class="keai-nav-item"><a href="/board" class="active">게시판</a></li>
                </ul>
            </nav>

            <div class="keai-header-cta">
                <a href="/#form" class="keai-btn-header-cta">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>
                    <span>무료심사</span>
                </a>
            </div>

            <button class="keai-mobile-menu-btn" onclick="toggleMobileMenu()" aria-label="메뉴 열기">
                <svg viewBox="0 0 24 24"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
            </button>
        </div>
    </div>

    <!-- Mobile Menu -->
    <div class="keai-mobile-menu" id="keaiMobileMenu">
        <div class="keai-mobile-menu-header">
            <span class="keai-mobile-menu-title">메뉴</span>
            <button class="keai-mobile-menu-close" onclick="toggleMobileMenu()" aria-label="메뉴 닫기">
                <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
            </button>
        </div>
        <nav>
            <ul class="keai-mobile-nav-list">
                <li class="keai-mobile-nav-item"><a href="/" onclick="toggleMobileMenu()">홈</a></li>
                <li class="keai-mobile-nav-item"><a href="/company" onclick="toggleMobileMenu()">회사소개</a></li>
                <li class="keai-mobile-nav-item"><a href="/process" onclick="toggleMobileMenu()">진행과정</a></li>
                <li class="keai-mobile-nav-item"><a href="/fund" onclick="toggleMobileMenu()">자금상담</a></li>
                <li class="keai-mobile-nav-item"><a href="/pro" onclick="toggleMobileMenu()">전문서비스</a></li>
                <li class="keai-mobile-nav-item"><a href="/mkt" onclick="toggleMobileMenu()">온라인마케팅</a></li>
                <li class="keai-mobile-nav-item"><a href="/board" onclick="toggleMobileMenu()">게시판</a></li>
            </ul>
        </nav>
    </div>

    <div class="keai-mobile-overlay" id="keaiMobileOverlay" onclick="toggleMobileMenu()"></div>
</header>

<!-- ================================================
     BOARD PAGE
     ================================================ -->
<section class="keai-board-page">
    <div class="keai-board-container">
        <!-- Breadcrumb -->
        <div class="keai-board-breadcrumb">
            <a href="/">홈</a>
            <svg viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
            <span class="current">공지사항 & 뉴스</span>
        </div>

        <!-- Page Header -->
        <div class="keai-board-header">
            <h1 class="keai-board-title"><span class="keai-board-highlight">공지사항</span> & 뉴스</h1>
            <p class="keai-board-subtitle">KEAI의 최신 소식과 자금확보 관련 정보를 확인하세요</p>
        </div>

        <!-- Category Tabs -->
        <div class="keai-board-tabs" id="category-tabs">
            <button class="keai-board-tab active" data-category="all">전체</button>
            <button class="keai-board-tab" data-category="공지">공지</button>
            <button class="keai-board-tab" data-category="뉴스">뉴스</button>
            <button class="keai-board-tab" data-category="정보">정보</button>
            <button class="keai-board-tab" data-category="이벤트">이벤트</button>
        </div>

        <!-- Loading State -->
        <div class="keai-board-loading" id="board-loading">
            <div class="keai-board-spinner"></div>
            <p>게시글을 불러오는 중...</p>
        </div>

        <!-- Empty State -->
        <div class="keai-board-empty" id="board-empty" style="display: none;">
            <svg viewBox="0 0 24 24"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-1 12H5c-.55 0-1-.45-1-1V9c0-.55.45-1 1-1h14c.55 0 1 .45 1 1v8c0 .55-.45 1-1 1z"/></svg>
            <h3>등록된 게시글이 없습니다</h3>
            <p>아직 등록된 게시글이 없습니다. 곧 새로운 소식을 전해드릴게요!</p>
        </div>

        <!-- Post Grid -->
        <div class="keai-board-grid" id="board-grid" style="display: none;"></div>

        <!-- Load More -->
        <div class="keai-board-more" id="board-more" style="display: none;">
            <button class="keai-board-more-btn" id="load-more-btn">
                <span>더 많은 소식 보기</span>
                <svg viewBox="0 0 24 24"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>
            </button>
        </div>

        <!-- CTA Section -->
        <div class="keai-board-cta">
            <h3>자금확보 무료 심사 신청하기</h3>
            <p>KEAI 기업심사관이 귀사에 맞는 자금확보 전략을 설계해 드립니다</p>
            <a href="/#form" class="keai-board-cta-btn">
                <span>무료 심사 신청</span>
                <svg viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
            </a>
        </div>
    </div>
</section>

<!-- ================================================
     FOOTER
     ================================================ -->
<footer class="keai-footer">
    <div class="keai-footer-wrapper">
        <div class="keai-footer-container">
            <div class="keai-footer-top">
                <div class="keai-footer-info">
                    <div class="keai-footer-logo">
                        <img src="white_logo.png" alt="KEAI 한국기업심사원" class="keai-footer-logo-image" data-image-id="logo-white">
                    </div>
                    <p class="keai-footer-desc">자금확보 전문 컨설팅 | 기업심사 전문가의 1:1 맞춤 컨설팅</p>
                </div>
            </div>

            <div class="keai-footer-middle">
                <div class="keai-footer-contact">
                    <h4 class="keai-footer-title">Contact</h4>

                    <div class="keai-contact-item">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M16 12h-3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h3v7z"></path>
                        </svg>
                        <span>대표자: 이강희</span>
                    </div>

                    <div class="keai-contact-item">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="12" y1="8" x2="12" y2="16"></line>
                            <line x1="8" y1="12" x2="16" y2="12"></line>
                        </svg>
                        <span>사업자등록번호: 794-35-01595</span>
                    </div>

                    <div class="keai-contact-item">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                        </svg>
                        <span>대표전화: 1688-8401</span>
                    </div>

                    <div class="keai-contact-item">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                            <path d="M12 12l8-5H4l8 5z"></path>
                        </svg>
                        <span>이메일: ceo@k-eai.kr</span>
                    </div>

                    <div class="keai-contact-item">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                            <circle cx="12" cy="10" r="3"></circle>
                        </svg>
                        <span>주소: 인천광역시 서구 중봉대로 612번길 10-20, 505-J302호</span>
                    </div>

                    <div class="keai-contact-item">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                        <span>상담시간: 평일 09:00-18:00</span>
                    </div>
                </div>

                <div class="keai-footer-menu">
                    <h4 class="keai-footer-title">Menu</h4>
                    <ul class="keai-footer-list">
                        <li><a href="/">홈</a></li>
                        <li><a href="/company">회사소개</a></li>
                        <li><a href="/process">진행과정</a></li>
                        <li><a href="/fund">자금상담</a></li>
                        <li><a href="/pro">전문서비스</a></li>
                        <li><a href="/mkt">온라인마케팅</a></li>
                        <li><a href="/board">게시판</a></li>
                    </ul>
                </div>
            </div>

            <div class="keai-footer-bottom">
                <p class="keai-copyright">© 2025 한국기업심사원 KEAI. All rights reserved.</p>
            </div>
        </div>
    </div>
</footer>

<!-- Main JavaScript -->
<script src="js/main.js"></script>
<script src="js/image-loader.js"></script>

<!-- Board Script -->
<script>
(function() {
    const API_URL = '/api/board';
    const POSTS_PER_PAGE = 9;
    let currentPage = 1;
    let currentCategory = 'all';
    let allPosts = [];
    let filteredPosts = [];
    let isLoading = false;

    // DOM Elements
    const loadingEl = document.getElementById('board-loading');
    const emptyEl = document.getElementById('board-empty');
    const gridEl = document.getElementById('board-grid');
    const moreEl = document.getElementById('board-more');
    const loadMoreBtn = document.getElementById('load-more-btn');
    const tabsEl = document.getElementById('category-tabs');

    // Fetch Posts
    async function fetchPosts() {
        if (isLoading) return;
        isLoading = true;

        try {
            const response = await fetch(API_URL);
            if (!response.ok) throw new Error('API 호출 실패');

            const result = await response.json();
            if (!result.success) throw new Error(result.error || '게시글 로드 실패');

            allPosts = result.posts.map(post => ({
                id: post.id,
                title: post.제목 || post.title,
                content: post.내용 || post.content,
                excerpt: post.요약 || (post.내용 || '').substring(0, 100),
                category: post.카테고리 || post.category || '공지',
                thumbnail: post.썸네일 || null,
                date: post.작성일 || post.date,
                views: post.조회수 || 0
            }));

            filterAndRender();
        } catch (error) {
            console.error('게시글 로드 실패:', error);
            loadDemoData();
        } finally {
            isLoading = false;
        }
    }

    // Demo Data
    function loadDemoData() {
        allPosts = [
            {
                id: '1',
                title: '2025년 상반기 정책자금 신청 일정 안내',
                excerpt: '2025년 상반기 정책자금 신청 일정을 안내드립니다. 중소벤처기업부 정책자금 및 신용보증기금 보증지원...',
                category: '공지',
                thumbnail: null,
                date: '2025-01-15',
                views: 1247
            },
            {
                id: '2',
                title: 'KEAI 컨설팅으로 5억 자금 확보 성공 사례',
                excerpt: 'AI 기반 솔루션 개발 기업이 KEAI의 전문 컨설팅을 통해 정책자금 5억원을 성공적으로...',
                category: '뉴스',
                thumbnail: null,
                date: '2025-01-10',
                views: 892
            },
            {
                id: '3',
                title: '정책자금 신청 시 주의해야 할 5가지',
                excerpt: '정책자금 신청 시 반드시 주의해야 할 5가지 사항을 안내드립니다. 서류 준비, 신용등급 관리...',
                category: '정보',
                thumbnail: null,
                date: '2025-01-05',
                views: 2156
            },
            {
                id: '4',
                title: '2025년 신규 정책자금 프로그램 안내',
                excerpt: '2025년 새롭게 시작되는 정책자금 프로그램을 소개합니다. 디지털 전환 지원, ESG 경영...',
                category: '정보',
                thumbnail: null,
                date: '2025-01-03',
                views: 1567
            },
            {
                id: '5',
                title: '설 연휴 상담 안내',
                excerpt: '설 연휴 기간 상담 운영 안내입니다. 1월 27일부터 30일까지 휴무이며...',
                category: '공지',
                thumbnail: null,
                date: '2025-01-02',
                views: 432
            },
            {
                id: '6',
                title: '제조업 특화 자금확보 전략 세미나 개최',
                excerpt: 'KEAI에서 제조업 기업을 위한 자금확보 전략 세미나를 개최합니다...',
                category: '이벤트',
                thumbnail: null,
                date: '2024-12-28',
                views: 678
            }
        ];
        filterAndRender();
    }

    // Filter and Render
    function filterAndRender() {
        if (currentCategory === 'all') {
            filteredPosts = allPosts;
        } else {
            filteredPosts = allPosts.filter(p => p.category === currentCategory);
        }
        currentPage = 1;
        renderPosts();
    }

    // Render Posts
    function renderPosts() {
        loadingEl.style.display = 'none';

        if (filteredPosts.length === 0) {
            emptyEl.style.display = 'block';
            gridEl.style.display = 'none';
            moreEl.style.display = 'none';
            return;
        }

        emptyEl.style.display = 'none';
        gridEl.style.display = 'grid';

        const postsToShow = filteredPosts.slice(0, currentPage * POSTS_PER_PAGE);

        gridEl.innerHTML = postsToShow.map(post => `
            <article class="keai-board-card" data-id="${post.id}" data-slug="${post.slug}">
                <div class="keai-board-card-thumbnail">
                    ${post.thumbnail
                        ? `<img src="${post.thumbnail}" alt="${post.title}" loading="lazy">`
                        : `<div class="keai-board-card-placeholder">
                            <svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5-7l-3 3.72L9 13l-3 4h12l-4-5z"/></svg>
                           </div>`
                    }
                </div>
                <div class="keai-board-card-content">
                    <span class="keai-board-card-category ${getCategoryClass(post.category)}">${post.category}</span>
                    <h3 class="keai-board-card-title">${post.title}</h3>
                    <p class="keai-board-card-excerpt">${post.excerpt}</p>
                    <div class="keai-board-card-meta">
                        <span class="keai-board-card-date">
                            <svg viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"/></svg>
                            ${formatDate(post.date)}
                        </span>
                        <span class="keai-board-card-views">
                            <svg viewBox="0 0 24 24"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/></svg>
                            ${formatViews(post.views)}
                        </span>
                    </div>
                </div>
            </article>
        `).join('');

        // More Button
        if (postsToShow.length < filteredPosts.length) {
            moreEl.style.display = 'block';
        } else {
            moreEl.style.display = 'none';
        }

        // Card Click
        gridEl.querySelectorAll('.keai-board-card').forEach(card => {
            card.addEventListener('click', () => {
                const slug = card.dataset.slug;
                if (slug) {
                    window.location.href = `/p/${encodeURIComponent(slug)}`;
                } else {
                    window.location.href = `/post?id=${card.dataset.id}`;
                }
            });
        });
    }

    // Category Class
    function getCategoryClass(category) {
        if (category === '공지') return 'notice';
        if (category === '뉴스') return 'news';
        if (category === '정보') return 'info';
        if (category === '이벤트') return 'event';
        return '';
    }

    // Date Format
    function formatDate(dateStr) {
        if (!dateStr) return '-';
        const date = new Date(dateStr);
        const year = date.getFullYear();
        const month = String(date.getMonth() + 1).padStart(2, '0');
        const day = String(date.getDate()).padStart(2, '0');
        return `${year}.${month}.${day}`;
    }

    // Views Format
    function formatViews(views) {
        if (views >= 1000) {
            return (views / 1000).toFixed(1) + 'K';
        }
        return views.toLocaleString();
    }

    // Tab Click
    if (tabsEl) {
        tabsEl.addEventListener('click', (e) => {
            if (e.target.classList.contains('keai-board-tab')) {
                tabsEl.querySelectorAll('.keai-board-tab').forEach(tab => tab.classList.remove('active'));
                e.target.classList.add('active');
                currentCategory = e.target.dataset.category;
                filterAndRender();
            }
        });
    }

    // Load More
    if (loadMoreBtn) {
        loadMoreBtn.addEventListener('click', () => {
            currentPage++;
            renderPosts();
        });
    }

    // Initialize
    fetchPosts();
})();
</script>

</body>
</html>
